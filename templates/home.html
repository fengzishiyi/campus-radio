{% extends 'base.html' %}

{% block title %}é¦–é¡µ - æ ¡å›­å¹¿æ’­ç«™ç®¡ç†å¹³å°{% endblock %}

{% block content %}
<!-- å¤´ç‰ˆè¦é—» - Front Page Section -->
<div class="front-page-section">
    <h2 class="front-page-title">â”â” å¤´ç‰ˆè¦é—» â”â”</h2>
    <div class="front-page-content">
        <p style="text-align: center; margin-bottom: 1rem;">
            <strong style="font-size: 1.3rem;">æœ¬æœŸå¯¼è¯»</strong>
        </p>
        <p style="text-indent: 2em;">
            æ¬¢è¿ï¼Œ<strong>{{ user.profile.real_name }}</strong>ï¼
            æ‚¨çš„è§’è‰²ä¸ºï¼š<strong>{{ user.profile.get_role_display }}</strong>ï¼Œ
            éš¶å±äºï¼š<strong>{{ user.profile.get_department_display }}</strong>ã€‚
        </p>
        <p style="text-indent: 2em;">
            æœ¬æœŸæ ¡å›­å¹¿æ’­ç«™æŠ¥ä¸ºæ‚¨å¸¦æ¥æœ€æ–°çš„å…¬å‘Šé€šçŸ¥ã€æ´»åŠ¨é¢„å‘Šã€æ’ç­ä¿¡æ¯ä»¥åŠå½•éŸ³å®¤åŠ¨æ€ã€‚
            è¯·åŠæ—¶æŸ¥é˜…å„ç‰ˆå—å†…å®¹ï¼ŒæŒæ¡å¹¿æ’­ç«™æœ€æ–°åŠ¨æ€ã€‚
        </p>
    </div>
</div>

<!-- å¿«é€Ÿå¯¼èˆª - Quick Navigation Sections -->
<h2 class="section-header">â”â” å„ç‰ˆå—å¯¼èˆª â”â”</h2>
<div class="newspaper-columns-4">
    <div class="section-card">
        <a href="/announcements/">
            <div class="section-card-icon">ğŸ“¢</div>
            <h3 class="section-card-title">å…¬å‘Šä¸“æ </h3>
            <p class="section-card-desc">æŸ¥çœ‹æœ€æ–°å…¬å‘Šå’Œé€šçŸ¥</p>
        </a>
    </div>

    <div class="section-card">
        <a href="/broadcast/calendar/">
            <div class="section-card-icon">ğŸ“…</div>
            <h3 class="section-card-title">æ’ç­ä¿¡æ¯</h3>
            <p class="section-card-desc">ç®¡ç†å¹¿æ’­ç«™æ—¥ç¨‹</p>
        </a>
    </div>

    <div class="section-card">
        <a href="/booking/">
            <div class="section-card-icon">ğŸ™ï¸</div>
            <h3 class="section-card-title">å½•éŸ³å®¤</h3>
            <p class="section-card-desc">é¢„çº¦ä½¿ç”¨å½•éŸ³å®¤</p>
        </a>
    </div>

    <div class="section-card">
        <a href="/himalaya/">
            <div class="section-card-icon">ğŸ§</div>
            <h3 class="section-card-title">å–œé©¬æ‹‰é›…</h3>
            <p class="section-card-desc">éŸ³é¢‘ä¸“è¾‘ç®¡ç†</p>
        </a>
    </div>
</div>

<!-- æœ€æ–°å…¬å‘Š - Recent Announcements -->
<h2 class="section-header">â”â” ğŸ“‹ æœ€æ–°å…¬å‘Š â”â”</h2>
<div class="article-list">
    {% if recent_announcements %}
        {% for announcement in recent_announcements %}
            <div class="article-item">
                <div class="article-tags">
                    {% if announcement.type == 'urgent' %}
                        <span class="tag tag-urgent">ç´§æ€¥</span>
                    {% elif announcement.type == 'activity' %}
                        <span class="tag tag-activity">æ´»åŠ¨</span>
                    {% elif announcement.type == 'schedule_change' %}
                        <span class="tag tag-schedule">æ’ç­å˜æ›´</span>
                    {% else %}
                        <span class="tag tag-normal">é€šçŸ¥</span>
                    {% endif %}
                    {% if announcement.is_pinned %}
                        <span class="tag-pinned">ğŸ“Œ</span>
                    {% endif %}
                    {% if announcement.is_unread_by user %}
                        <span class="tag tag-unread">ğŸ†• æœªè¯»</span>
                    {% endif %}
                </div>
                <h3 class="article-headline">
                    <a href="/announcements/{{ announcement.id }}/">{{ announcement.title }}</a>
                </h3>
                <p class="article-date">{{ announcement.publish_time|date:"Yå¹´mæœˆdæ—¥ H:i" }}</p>
            </div>
        {% endfor %}
        <div style="text-align: center; margin-top: 1.5rem; padding-top: 1rem; border-top: 2px solid #000;">
            <a href="/announcements/" class="newspaper-link" style="font-weight: bold; font-size: 1.1rem;">æŸ¥çœ‹å…¨éƒ¨å…¬å‘Š â†’</a>
        </div>
    {% else %}
        <p style="text-align: center; padding: 2rem 0; color: #666; font-style: italic;">æš‚æ— å…¬å‘Š</p>
    {% endif %}
</div>
{% endblock %}
