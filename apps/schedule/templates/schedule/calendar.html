{% extends 'base.html' %}

{% block title %}å½•éŸ³å®¤æ—¥å† - æ ¡å›­å¹¿æ’­ç«™ç®¡ç†å¹³å°{% endblock %}

{% block content %}
<div class="gh-card" style="margin-bottom: 24px;">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h1 style="font-size: 24px; font-weight: 600; margin: 0;">ğŸ“… å½•éŸ³å®¤æ—¥å†</h1>
        <div style="display: flex; gap: 8px;">
            <a href="{% url 'studio:groups_list' %}" class="gh-btn">ğŸ‘¥ åˆ†ç»„ç®¡ç†</a>
        </div>
    </div>
</div>

<!-- Calendar Container -->
<div class="gh-card">
    <div id="calendar"></div>
</div>

{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    
    var calendar = new FullCalendar.Calendar(calendarEl, {
        locale: 'zh-cn',
        initialView: 'dayGridMonth',
        headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,timeGridWeek,listWeek'
        },
        buttonText: {
            today: 'ä»Šå¤©',
            month: 'æœˆ',
            week: 'å‘¨',
            list: 'åˆ—è¡¨'
        },
        height: 'auto',
        events: '/studio/api/events/',
        eventClick: function(info) {
            info.jsEvent.preventDefault();
            const dateStr = info.event.start.toISOString().split('T')[0];
            window.location.href = `/studio/${dateStr}/`;
        },
        dateClick: function(info) {
            window.location.href = `/studio/${info.dateStr}/`;
        },
        eventColor: '#0969da',
    });
    
    calendar.render();
});
</script>
{% endblock %}
