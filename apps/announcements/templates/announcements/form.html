{% extends "base.html" %}

{% block title %}{{ title }} - æ ¡å›­å¹¿æ’­ç«™ç®¡ç†å¹³å°{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <div class="flex items-center justify-between mb-6">
            <h1 class="text-3xl font-bold text-gray-800">{{ title }}</h1>
            <a href="{% url 'announcements:list' %}" class="text-blue-600 hover:text-blue-700">è¿”å›åˆ—è¡¨</a>
        </div>

        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            {% if form.errors %}
                <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded">
                    <p class="font-semibold">è¯·ä¿®æ­£ä»¥ä¸‹é”™è¯¯ï¼š</p>
                    <ul class="list-disc list-inside mt-2">
                        {% for field in form %}
                            {% for error in field.errors %}
                                <li>{{ field.label }}ï¼š{{ error }}</li>
                            {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            <!-- Title -->
            <div>
                <label for="{{ form.title.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ form.title.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.title }}
                {% if form.title.help_text %}
                    <p class="mt-1 text-sm text-gray-500">{{ form.title.help_text }}</p>
                {% endif %}
            </div>

            <!-- Content -->
            <div>
                <label for="{{ form.content.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ form.content.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.content }}
                {% if form.content.help_text %}
                    <p class="mt-1 text-sm text-gray-500">{{ form.content.help_text }}</p>
                {% endif %}
            </div>

            <!-- Type -->
            <div>
                <label for="{{ form.type.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ form.type.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.type }}
                {% if form.type.help_text %}
                    <p class="mt-1 text-sm text-gray-500">{{ form.type.help_text }}</p>
                {% endif %}
            </div>

            <!-- Target Department -->
            <div>
                <label for="{{ form.target_department.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ form.target_department.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.target_department }}
                {% if form.target_department.help_text %}
                    <p class="mt-1 text-sm text-gray-500">{{ form.target_department.help_text }}</p>
                {% endif %}
            </div>

            <!-- Expire Time -->
            <div>
                <label for="{{ form.expire_time.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ form.expire_time.label }}
                </label>
                {{ form.expire_time }}
                {% if form.expire_time.help_text %}
                    <p class="mt-1 text-sm text-gray-500">{{ form.expire_time.help_text }}</p>
                {% endif %}
            </div>

            <!-- Is Pinned -->
            <div class="flex items-center">
                {{ form.is_pinned }}
                <label for="{{ form.is_pinned.id_for_label }}" class="ml-2 text-sm font-medium text-gray-700">
                    {{ form.is_pinned.label }}
                </label>
                {% if form.is_pinned.help_text %}
                    <span class="ml-2 text-sm text-gray-500">({{ form.is_pinned.help_text }})</span>
                {% endif %}
            </div>

            <!-- Submit Buttons -->
            <div class="flex justify-end space-x-4 pt-6 border-t">
                <a href="{% url 'announcements:list' %}" class="px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition">
                    å–æ¶ˆ
                </a>
                <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                    {{ submit_text }}
                </button>
            </div>
        </form>
    </div>

    <!-- Help Section -->
    <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
        <h2 class="text-lg font-semibold text-blue-800 mb-2">ğŸ“– ä½¿ç”¨è¯´æ˜</h2>
        <ul class="list-disc list-inside text-blue-700 space-y-1">
            <li>æ ‡é¢˜åº”ç®€æ´æ˜äº†ï¼Œæ¦‚æ‹¬å…¬å‘Šä¸»è¦å†…å®¹</li>
            <li>é€‰æ‹©åˆé€‚çš„ç±»å‹å¯ä»¥è®©å…¬å‘Šæ›´é†’ç›®ï¼ˆç´§æ€¥å…¬å‘Šä¼šæœ‰ç‰¹æ®Šæ ‡è®°ï¼‰</li>
            <li>ç½®é¡¶çš„å…¬å‘Šä¼šåœ¨åˆ—è¡¨é¡¶éƒ¨æ˜¾ç¤º</li>
            <li>å¯è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸåå…¬å‘Šå°†ä¸å†æ˜¾ç¤º</li>
            <li>é€‰æ‹©ç›®æ ‡éƒ¨é—¨å¯ä»¥æ§åˆ¶å…¬å‘Šçš„å¯è§èŒƒå›´</li>
        </ul>
    </div>
</div>
{% endblock %}
