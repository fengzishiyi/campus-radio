# UI/UX 重构可视化对比

## 🎨 设计风格对比

### 之前：报纸复古风格
- ❌ 衬线字体（宋体、Times New Roman）
- ❌ 双线边框
- ❌ 复古配色 (#FAF7F0 米黄色背景)
- ❌ 报头样式（"校园广播站报"）
- ❌ 报纸式分隔符（|）
- ❌ 黑色背景 footer

### 之后：GitHub 现代风格
- ✅ 无衬线字体（-apple-system, Segoe UI, Noto Sans）
- ✅ 圆角卡片（border-radius: 6px）
- ✅ 现代配色（白色 #ffffff，浅灰 #f6f8fa）
- ✅ 深色导航栏（#24292f）
- ✅ 蓝色主题（#0969da）
- ✅ 简洁 footer

## 📊 页面布局对比

### 首页布局

**之前：**
```
┌─────────────────────────────────────────┐
│         校园广播站报 (报头)              │
├─────────────────────────────────────────┤
│    头版 | 公告 | 排班 | 录音室 | 喜马拉雅  │
├─────────────────────────────────────────┤
│ ⚠️ 号外：紧急公告横幅                     │
├─────────────────────────────────────────┤
│ 📋 最新公告 (小卡片 x6)                  │
├──────────────┬──────────────────────────┤
│ 🎙️ 今日录音室  │  🎵 今日广播歌单          │
│   (左栏)      │    (右栏)               │
└──────────────┴──────────────────────────┘
```

**之后：**
```
┌─────────────────────────────────────────┐
│ 🎙️ 校园广播站 | 头版 录音室 喜马拉雅      │ ← 深色导航
├─────────────────────────────────────────┤
│ 📅 日期  ☀️ 天气  🎙️ 预约数             │ ← 信息栏
├─────────────────────────────────────────┤
│ 📋 最新公告                              │
│ ┌─────┐ ┌─────┐ ┌─────┐                │
│ │公告1 │ │公告2 │ │公告3 │               │ ← 大面积
│ └─────┘ └─────┘ └─────┘                │   公告区
│ ┌─────┐ ┌─────┐ ┌─────┐                │
│ │公告4 │ │公告5 │ │公告6 │               │
│ └─────┘ └─────┘ └─────┘                │
├──────────────┬──────────────────────────┤
│ 🎙️ 今日录音室  │  🎵 今日广播歌单          │
│   时间轴      │    节目安排              │
└──────────────┴──────────────────────────┘
│                                         │
│         🎵 迷你播放器                    │ ← 新增！
└─────────────────────────────────────────┘
```

### 录音室页面（新合并）

**之前（分离）：**

排班页面 (`/broadcast/calendar/`)：
```
┌─────────────────────────────────────────┐
│ 📅 广播站排班日历                        │
│ [创建一周排班] [分组管理]                │
├─────────────────────────────────────────┤
│                                         │
│         FullCalendar 日历视图           │
│                                         │
└─────────────────────────────────────────┘
```

预约页面 (`/booking/`)：
```
┌─────────────────────────────────────────┐
│ 🎙️ 录音室预约                           │
│ [创建预约]                               │
├─────────────────────────────────────────┤
│                                         │
│         FullCalendar 日历视图           │
│                                         │
└─────────────────────────────────────────┘
```

**之后（合并）：**

录音室日历 (`/studio/`)：
```
┌─────────────────────────────────────────┐
│ 📅 录音室日历              [分组管理]     │
├─────────────────────────────────────────┤
│                                         │
│    FullCalendar 统一日历                │
│    - 蓝色：已排班                        │
│    - 绿色：预约                          │
│    - 红色：直播日 📡                     │
│                                         │
└─────────────────────────────────────────┘
```

日详情页 (`/studio/<date>/`)：
```
┌─────────────────────────────────────────┐
│ 📅 2026年2月10日 周一    [返回] [📡直播] │
├─────────────────────────────────────────┤
│ 🎙️ 今日时间轴 (8:00-22:00)              │
│ [━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━]        │
│    预约块1    预约块2    📡直播          │
├─────────┬─────────┬─────────────────────┤
│📻 节目   │🎵 歌曲   │🎙️ 预约               │
│         │         │                     │
│ [添加]   │[添加]    │[创建预约]            │
│ [上传♪]  │         │                     │
│         │         │                     │
│ 节目1    │歌曲1 🎵  │ 09:00-10:00         │
│ 节目2    │歌曲2     │ 张三 - 录制节目      │
│         │歌曲3 🎵  │ [已确认]             │
└─────────┴─────────┴─────────────────────┘
```

## 🎵 新功能：迷你播放器

```
┌─────────────────────────────────────────────────────────┐
│ ⏮ ▶️ ⏭  │ 歌曲名 - 歌手  │ 0:00 [━━━━━] 3:45 │ 🔊 [━━━] │
└─────────────────────────────────────────────────────────┘
  控制按钮    歌曲信息         进度条            音量控制
```

**功能特性：**
- ✅ 固定在页面底部
- ✅ 自动加载今日歌单
- ✅ 支持播放已上传音频的歌曲
- ✅ 切换页面继续播放
- ✅ 每日 23:00 自动清理音频文件

## 🔀 导航结构变化

**之前（5个板块）：**
```
头版 | 公告 | 排班 | 录音室 | 喜马拉雅
```

**之后（3个板块）：**
```
头版 (含公告) | 录音室 (含排班+预约) | 喜马拉雅
```

## 🎨 颜色方案对比

### 报纸风格（之前）
```css
--newspaper-bg: #FAF7F0;          /* 米黄色背景 */
--newspaper-text: #1a1a1a;        /* 黑色文字 */
--newspaper-border: #ccc;         /* 灰色边框 */
--newspaper-border-black: #000;   /* 黑色双线 */
--newspaper-red: #c00;            /* 深红色 */
```

### GitHub 风格（之后）
```css
--gh-canvas-default: #ffffff;     /* 白色背景 */
--gh-canvas-subtle: #f6f8fa;      /* 浅灰背景 */
--gh-fg-default: #1f2328;         /* 深灰文字 */
--gh-accent-fg: #0969da;          /* GitHub 蓝 */
--gh-border-default: #d0d7de;     /* 边框灰 */
--gh-success-fg: #1a7f37;         /* 成功绿 */
--gh-danger-fg: #d1242f;          /* 危险红 */
```

## 📱 响应式设计

### 移动端适配
- ✅ 导航栏折叠
- ✅ 卡片单列显示
- ✅ 播放器控件自适应
- ✅ 日详情三栏变为单栏堆叠

## 🚀 性能优化

- ✅ 使用 CSS 变量减少重复
- ✅ 简化 DOM 结构
- ✅ 减少不必要的边框和阴影
- ✅ 优化字体加载（系统字体栈）

## 📦 文件变化统计

### 新增文件
- `static/css/style.css` (1000+ 行)
- `apps/studio_urls.py`
- `apps/schedule/templates/studio/day_detail.html`
- `apps/schedule/management/commands/cleanup_daily_songs.py`
- `apps/schedule/migrations/0002_add_live_and_audio.py`
- `REFACTOR_README.md`

### 修改文件
- `templates/base.html` (大幅重构)
- `templates/home.html` (完全重写)
- `apps/schedule/models.py` (添加字段)
- `apps/schedule/views.py` (新增视图)
- `apps/schedule/templates/schedule/calendar.html` (简化)
- `config/urls.py` (更新路由)

### 保留文件（向后兼容）
- `static/css/newspaper.css` (未删除，可切换回去)
- `apps/schedule/urls.py` (保留旧路由)
- `apps/booking/urls.py` (保留旧路由)

## ✨ 用户体验提升

1. **导航更简洁** - 从5个入口减少到3个
2. **信息更集中** - 公告在首页即可查看
3. **功能更统一** - 录音室集成所有相关功能
4. **视觉更现代** - GitHub 风格更符合现代审美
5. **操作更便捷** - 日详情页一站式管理
6. **播放更方便** - 迷你播放器随时可用

---

**最后更新：** 2026-02-10
